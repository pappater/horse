<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="AI-generated horse image gallery" />
    <title>horse</title>

    <!-- Performance optimizations -->
    <link rel="preconnect" href="images/" />

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Oxygen, Ubuntu, Cantarell, sans-serif;
        background-color: #fafafa;
        padding-top: 80px;
      }

      .title {
        position: fixed;
        top: 20px;
        left: 20px;
        width: 96px;
        height: 96px;
        z-index: 1000;
        transition: width 0.3s ease, height 0.3s ease;
        cursor: pointer;
      }

      .title:hover {
        width: 128px;
        height: 128px;
      }

      .title svg {
        width: 100%;
        height: 100%;
      }

      .title .horse-body {
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .title:hover .horse-body {
        opacity: 1;
      }

      /* Running animation */
      @keyframes gallop {
        0%,
        100% {
          transform: translateY(0);
        }
        25% {
          transform: translateY(-2px);
        }
        50% {
          transform: translateY(0);
        }
        75% {
          transform: translateY(-2px);
        }
      }

      .title:hover {
        animation: gallop 0.6s ease-in-out infinite;
      }

      /* Leg animation */
      @keyframes legMove1 {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(2px);
        }
      }

      @keyframes legMove2 {
        0%,
        100% {
          transform: translateY(2px);
        }
        50% {
          transform: translateY(0);
        }
      }

      .title:hover .leg1 {
        animation: legMove1 0.3s ease-in-out infinite;
      }

      .title:hover .leg2 {
        animation: legMove2 0.3s ease-in-out infinite;
      }

      .title:hover .leg3 {
        animation: legMove1 0.3s ease-in-out infinite;
      }

      .title:hover .leg4 {
        animation: legMove2 0.3s ease-in-out infinite;
      }

      /* Color on hover */
      .horse-face,
      .horse-body-colored {
        fill: #000;
        transition: fill 0.3s ease;
      }

      .title:hover .horse-face {
        fill: #8b4513;
      }

      .title:hover .horse-body-colored {
        fill: #8b4513;
      }

      .horse-muzzle {
        fill: #000;
        transition: fill 0.3s ease;
      }

      .title:hover .horse-muzzle {
        fill: #d2691e;
      }

      .gallery-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
      }

      .gallery {
        column-count: 4;
        column-gap: 15px;
      }

      .gallery-item {
        break-inside: avoid;
        margin-bottom: 15px;
        position: relative;
        overflow: hidden;
        border-radius: 8px;
        background: #fff;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        cursor: pointer;
      }

      .gallery-item:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }

      .gallery-item {
        position: relative;
        min-height: 200px;
      }

      .gallery-item::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          #e8e8e8 0%,
          #f5f5f5 20%,
          #e8e8e8 40%,
          #e8e8e8 100%
        );
        background-size: 200% 100%;
        animation: shimmer 2s infinite linear;
        border-radius: 8px;
        z-index: 1;
        opacity: 1;
        transition: opacity 0.4s ease;
      }

      .gallery-item.loaded::before {
        opacity: 0;
        pointer-events: none;
      }

      .gallery-item img {
        width: 100%;
        height: auto;
        display: block;
        opacity: 0;
        transition: opacity 0.6s ease, filter 0.3s ease, transform 0.3s ease;
        filter: grayscale(100%);
        transform: scale(0.95);
        position: relative;
        z-index: 2;
      }

      .gallery-item:hover img {
        filter: grayscale(0%);
      }

      .gallery-item img.loaded {
        opacity: 1;
        transform: scale(1);
      }

      @keyframes shimmer {
        0% {
          background-position: -200% 0;
        }
        100% {
          background-position: 200% 0;
        }
      }

      /* Blur-up effect */
      .gallery-item img.loading {
        filter: grayscale(100%) blur(10px);
      }

      /* Responsive design */
      @media screen and (max-width: 1200px) {
        .gallery {
          column-count: 3;
        }

        .title {
          font-size: 56px;
        }
      }

      @media screen and (max-width: 768px) {
        .gallery {
          column-count: 2;
          column-gap: 10px;
        }

        .gallery-item {
          margin-bottom: 10px;
        }

        .title {
          font-size: 48px;
          top: 15px;
          left: 15px;
        }

        body {
          padding-top: 60px;
        }

        .gallery-container {
          padding: 15px;
        }
      }

      @media screen and (max-width: 480px) {
        .gallery {
          column-count: 1;
        }

        .title {
          font-size: 40px;
          top: 10px;
          left: 10px;
        }

        body {
          padding-top: 50px;
        }

        .gallery-container {
          padding: 10px;
        }
      }

      /* Footer Styles */
      .footer {
        background-color: #f5f5f5;
        border-top: 1px solid #e0e0e0;
        padding: 20px;
        margin-top: 60px;
        text-align: center;
        font-size: 14px;
        color: #666;
        position: relative;
        overflow: visible;
        min-height: 60px;
        z-index: 1000;
      }

      .running-horses {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
      }

      .title:hover ~ .gallery-container ~ .footer .running-horses,
      .title:hover ~ .footer .running-horses {
        opacity: 1;
      }

      .running-horse {
        position: absolute;
        width: 120px;
        height: 90px;
        animation: run-across linear infinite,
          gallop-bounce 0.4s ease-in-out infinite;
      }

      .running-horse:nth-child(1) {
        animation-delay: 0s, 0s;
        animation-duration: 25s, 0.3s;
        top: -35px;
      }

      .running-horse:nth-child(2) {
        animation-delay: 1.5s, 0.05s;
        animation-duration: 26s, 0.3s;
        top: -42px;
      }

      .running-horse:nth-child(3) {
        animation-delay: 3s, 0.1s;
        animation-duration: 24s, 0.3s;
        top: -30px;
      }

      .running-horse:nth-child(4) {
        animation-delay: 4.5s, 0.15s;
        animation-duration: 25.5s, 0.3s;
        top: -38px;
      }

      .running-horse:nth-child(5) {
        animation-delay: 6s, 0.2s;
        animation-duration: 27s, 0.3s;
        top: -45px;
      }

      .running-horse:nth-child(6) {
        animation-delay: 7.5s, 0.25s;
        animation-duration: 26.5s, 0.3s;
        top: -32px;
      }

      .running-horse:nth-child(7) {
        animation-delay: 9s, 0.05s;
        animation-duration: 25.8s, 0.3s;
        top: -40px;
      }

      .running-horse:nth-child(8) {
        animation-delay: 10.5s, 0.1s;
        animation-duration: 24.5s, 0.3s;
        top: -28px;
      }

      .running-horse:nth-child(9) {
        animation-delay: 12s, 0.15s;
        animation-duration: 26.2s, 0.3s;
        top: -44px;
      }

      .running-horse:nth-child(10) {
        animation-delay: 13.5s, 0.2s;
        animation-duration: 25.3s, 0.3s;
        top: -34px;
      }

      /* Animated legs */
      .running-horse .leg1,
      .running-horse .leg3 {
        animation: leg-move-1 0.3s ease-in-out infinite;
      }

      .running-horse .leg2,
      .running-horse .leg4 {
        animation: leg-move-2 0.3s ease-in-out infinite;
      }

      @keyframes leg-move-1 {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(3px);
        }
      }

      @keyframes leg-move-2 {
        0%,
        100% {
          transform: translateY(3px);
        }
        50% {
          transform: translateY(0);
        }
      }

      @keyframes run-across {
        0% {
          left: calc(100% + 100px);
        }
        100% {
          left: -150px;
        }
      }

      @keyframes gallop-bounce {
        0%,
        100% {
          transform: translateY(0) scaleY(1);
        }
        50% {
          transform: translateY(-8px) scaleY(0.95);
        }
      }

      @media screen and (max-width: 768px) {
        .footer {
          padding: 15px;
          margin-top: 40px;
          font-size: 12px;
        }
      }
    </style>
  </head>
  <body>
    <div class="title">
      <svg
        viewBox="0 0 24 16"
        xmlns="http://www.w3.org/2000/svg"
        preserveAspectRatio="xMinYMin meet"
      >
        <!-- Pixelated horse - full body on hover -->
        <rect x="0" y="0" width="24" height="16" fill="transparent" />

        <!-- HEAD (always visible) -->
        <!-- Ear -->
        <rect x="10" y="3" width="2" height="3" fill="#000" />
        <!-- Mane -->
        <rect x="9" y="5" width="1" height="1" fill="#000" />
        <rect x="10" y="6" width="1" height="1" fill="#000" />
        <rect x="11" y="7" width="1" height="1" fill="#000" />
        <!-- Top of head -->
        <rect x="8" y="4" width="2" height="1" fill="#000" />
        <rect x="7" y="5" width="3" height="1" fill="#000" />
        <!-- Back of head and neck -->
        <rect x="11" y="6" width="2" height="4" fill="#000" />
        <rect x="10" y="10" width="2" height="2" fill="#000" />
        <!-- Face -->
        <rect class="horse-face" x="6" y="6" width="5" height="4" />
        <!-- Eye -->
        <rect x="8" y="7" width="1" height="1" fill="#000" />
        <!-- Forehead -->
        <rect x="6" y="5" width="2" height="1" fill="#000" />
        <!-- Snout/Muzzle -->
        <rect x="3" y="8" width="3" height="2" fill="#000" />
        <rect class="horse-muzzle" x="4" y="9" width="2" height="2" />
        <rect x="2" y="9" width="2" height="1" fill="#000" />
        <!-- Nostril -->
        <rect x="3" y="9" width="1" height="1" fill="#000" />
        <!-- Mouth/chin -->
        <rect x="5" y="10" width="2" height="1" fill="#000" />
        <rect x="6" y="11" width="1" height="1" fill="#000" />

        <!-- BODY (visible on hover) -->
        <g class="horse-body">
          <!-- Back/Body -->
          <rect class="horse-body-colored" x="12" y="8" width="6" height="3" />
          <rect x="12" y="7" width="6" height="1" fill="#000" />
          <rect x="18" y="8" width="1" height="3" fill="#000" />
          <!-- Belly -->
          <rect x="12" y="11" width="6" height="1" fill="#000" />
          <!-- Tail -->
          <rect x="18" y="9" width="1" height="2" fill="#000" />
          <rect x="19" y="9" width="1" height="3" fill="#000" />
          <rect x="20" y="10" width="1" height="3" fill="#000" />
          <rect x="21" y="11" width="1" height="2" fill="#000" />
          <!-- Front Legs (animated) -->
          <g class="leg1">
            <rect x="12" y="12" width="1" height="3" fill="#000" />
          </g>
          <g class="leg2">
            <rect x="14" y="12" width="1" height="3" fill="#000" />
          </g>
          <!-- Back Legs (animated) -->
          <g class="leg3">
            <rect x="16" y="12" width="1" height="3" fill="#000" />
          </g>
          <g class="leg4">
            <rect x="17" y="12" width="1" height="3" fill="#000" />
          </g>
        </g>
      </svg>
    </div>

    <div class="gallery-container">
      <div class="gallery" id="gallery"></div>
    </div>

    <footer class="footer">
      <div class="running-horses">
        <div class="running-horse">
          <svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
            <!-- Head -->
            <rect x="10" y="3" width="2" height="3" fill="#000" />
            <rect x="9" y="5" width="1" height="1" fill="#000" />
            <rect x="10" y="6" width="1" height="1" fill="#000" />
            <rect x="11" y="7" width="1" height="1" fill="#000" />
            <rect x="8" y="4" width="2" height="1" fill="#000" />
            <rect x="7" y="5" width="3" height="1" fill="#000" />
            <!-- Neck -->
            <rect x="11" y="6" width="2" height="4" fill="#000" />
            <rect x="10" y="10" width="2" height="2" fill="#000" />
            <!-- Body -->
            <rect x="6" y="6" width="5" height="4" fill="#8B4513" />
            <rect x="8" y="7" width="1" height="1" fill="#000" />
            <rect x="6" y="5" width="2" height="1" fill="#000" />
            <!-- Front body -->
            <rect x="3" y="8" width="3" height="2" fill="#000" />
            <rect x="4" y="9" width="2" height="2" fill="#D2691E" />
            <rect x="2" y="9" width="2" height="1" fill="#000" />
            <rect x="3" y="9" width="1" height="1" fill="#000" />
            <rect x="5" y="10" width="2" height="1" fill="#000" />
            <rect x="6" y="11" width="1" height="1" fill="#000" />
            <!-- Back body -->
            <rect x="12" y="8" width="6" height="3" fill="#8B4513" />
            <rect x="12" y="7" width="6" height="1" fill="#000" />
            <rect x="18" y="8" width="1" height="3" fill="#000" />
            <rect x="12" y="11" width="6" height="1" fill="#000" />
            <!-- Tail -->
            <rect x="18" y="9" width="1" height="2" fill="#000" />
            <rect x="19" y="9" width="1" height="3" fill="#000" />
            <rect x="20" y="10" width="1" height="3" fill="#000" />
            <rect x="21" y="11" width="1" height="2" fill="#000" />
            <!-- Front Legs (animated) -->
            <g class="leg1">
              <rect x="12" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg2">
              <rect x="14" y="12" width="1" height="3" fill="#000" />
            </g>
            <!-- Back Legs (animated) -->
            <g class="leg3">
              <rect x="16" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg4">
              <rect x="17" y="12" width="1" height="3" fill="#000" />
            </g>
          </svg>
        </div>
        <div class="running-horse">
          <svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
            <rect x="10" y="3" width="2" height="3" fill="#000" />
            <rect x="9" y="5" width="1" height="1" fill="#000" />
            <rect x="10" y="6" width="1" height="1" fill="#000" />
            <rect x="11" y="7" width="1" height="1" fill="#000" />
            <rect x="8" y="4" width="2" height="1" fill="#000" />
            <rect x="7" y="5" width="3" height="1" fill="#000" />
            <rect x="11" y="6" width="2" height="4" fill="#000" />
            <rect x="10" y="10" width="2" height="2" fill="#000" />
            <rect x="6" y="6" width="5" height="4" fill="#8B4513" />
            <rect x="8" y="7" width="1" height="1" fill="#000" />
            <rect x="6" y="5" width="2" height="1" fill="#000" />
            <rect x="3" y="8" width="3" height="2" fill="#000" />
            <rect x="4" y="9" width="2" height="2" fill="#D2691E" />
            <rect x="2" y="9" width="2" height="1" fill="#000" />
            <rect x="3" y="9" width="1" height="1" fill="#000" />
            <rect x="5" y="10" width="2" height="1" fill="#000" />
            <rect x="6" y="11" width="1" height="1" fill="#000" />
            <rect x="12" y="8" width="6" height="3" fill="#8B4513" />
            <rect x="12" y="7" width="6" height="1" fill="#000" />
            <rect x="18" y="8" width="1" height="3" fill="#000" />
            <rect x="12" y="11" width="6" height="1" fill="#000" />
            <rect x="18" y="9" width="1" height="2" fill="#000" />
            <rect x="19" y="9" width="1" height="3" fill="#000" />
            <rect x="20" y="10" width="1" height="3" fill="#000" />
            <rect x="21" y="11" width="1" height="2" fill="#000" />
            <g class="leg1">
              <rect x="12" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg2">
              <rect x="14" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg3">
              <rect x="16" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg4">
              <rect x="17" y="12" width="1" height="3" fill="#000" />
            </g>
          </svg>
        </div>
        <div class="running-horse">
          <svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
            <rect x="10" y="3" width="2" height="3" fill="#000" />
            <rect x="9" y="5" width="1" height="1" fill="#000" />
            <rect x="10" y="6" width="1" height="1" fill="#000" />
            <rect x="11" y="7" width="1" height="1" fill="#000" />
            <rect x="8" y="4" width="2" height="1" fill="#000" />
            <rect x="7" y="5" width="3" height="1" fill="#000" />
            <rect x="11" y="6" width="2" height="4" fill="#000" />
            <rect x="10" y="10" width="2" height="2" fill="#000" />
            <rect x="6" y="6" width="5" height="4" fill="#8B4513" />
            <rect x="8" y="7" width="1" height="1" fill="#000" />
            <rect x="6" y="5" width="2" height="1" fill="#000" />
            <rect x="3" y="8" width="3" height="2" fill="#000" />
            <rect x="4" y="9" width="2" height="2" fill="#D2691E" />
            <rect x="2" y="9" width="2" height="1" fill="#000" />
            <rect x="3" y="9" width="1" height="1" fill="#000" />
            <rect x="5" y="10" width="2" height="1" fill="#000" />
            <rect x="6" y="11" width="1" height="1" fill="#000" />
            <rect x="12" y="8" width="6" height="3" fill="#8B4513" />
            <rect x="12" y="7" width="6" height="1" fill="#000" />
            <rect x="18" y="8" width="1" height="3" fill="#000" />
            <rect x="12" y="11" width="6" height="1" fill="#000" />
            <rect x="18" y="9" width="1" height="2" fill="#000" />
            <rect x="19" y="9" width="1" height="3" fill="#000" />
            <rect x="20" y="10" width="1" height="3" fill="#000" />
            <rect x="21" y="11" width="1" height="2" fill="#000" />
            <g class="leg1">
              <rect x="12" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg2">
              <rect x="14" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg3">
              <rect x="16" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg4">
              <rect x="17" y="12" width="1" height="3" fill="#000" />
            </g>
          </svg>
        </div>
        <div class="running-horse">
          <svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
            <rect x="10" y="3" width="2" height="3" fill="#000" />
            <rect x="9" y="5" width="1" height="1" fill="#000" />
            <rect x="10" y="6" width="1" height="1" fill="#000" />
            <rect x="11" y="7" width="1" height="1" fill="#000" />
            <rect x="8" y="4" width="2" height="1" fill="#000" />
            <rect x="7" y="5" width="3" height="1" fill="#000" />
            <rect x="11" y="6" width="2" height="4" fill="#000" />
            <rect x="10" y="10" width="2" height="2" fill="#000" />
            <rect x="6" y="6" width="5" height="4" fill="#8B4513" />
            <rect x="8" y="7" width="1" height="1" fill="#000" />
            <rect x="6" y="5" width="2" height="1" fill="#000" />
            <rect x="3" y="8" width="3" height="2" fill="#000" />
            <rect x="4" y="9" width="2" height="2" fill="#D2691E" />
            <rect x="2" y="9" width="2" height="1" fill="#000" />
            <rect x="3" y="9" width="1" height="1" fill="#000" />
            <rect x="5" y="10" width="2" height="1" fill="#000" />
            <rect x="6" y="11" width="1" height="1" fill="#000" />
            <rect x="12" y="8" width="6" height="3" fill="#8B4513" />
            <rect x="12" y="7" width="6" height="1" fill="#000" />
            <rect x="18" y="8" width="1" height="3" fill="#000" />
            <rect x="12" y="11" width="6" height="1" fill="#000" />
            <rect x="18" y="9" width="1" height="2" fill="#000" />
            <rect x="19" y="9" width="1" height="3" fill="#000" />
            <rect x="20" y="10" width="1" height="3" fill="#000" />
            <rect x="21" y="11" width="1" height="2" fill="#000" />
            <g class="leg1">
              <rect x="12" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg2">
              <rect x="14" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg3">
              <rect x="16" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg4">
              <rect x="17" y="12" width="1" height="3" fill="#000" />
            </g>
          </svg>
        </div>
        <div class="running-horse">
          <svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
            <rect x="10" y="3" width="2" height="3" fill="#000" />
            <rect x="9" y="5" width="1" height="1" fill="#000" />
            <rect x="10" y="6" width="1" height="1" fill="#000" />
            <rect x="11" y="7" width="1" height="1" fill="#000" />
            <rect x="8" y="4" width="2" height="1" fill="#000" />
            <rect x="7" y="5" width="3" height="1" fill="#000" />
            <rect x="11" y="6" width="2" height="4" fill="#000" />
            <rect x="10" y="10" width="2" height="2" fill="#000" />
            <rect x="6" y="6" width="5" height="4" fill="#8B4513" />
            <rect x="8" y="7" width="1" height="1" fill="#000" />
            <rect x="6" y="5" width="2" height="1" fill="#000" />
            <rect x="3" y="8" width="3" height="2" fill="#000" />
            <rect x="4" y="9" width="2" height="2" fill="#D2691E" />
            <rect x="2" y="9" width="2" height="1" fill="#000" />
            <rect x="3" y="9" width="1" height="1" fill="#000" />
            <rect x="5" y="10" width="2" height="1" fill="#000" />
            <rect x="6" y="11" width="1" height="1" fill="#000" />
            <rect x="12" y="8" width="6" height="3" fill="#8B4513" />
            <rect x="12" y="7" width="6" height="1" fill="#000" />
            <rect x="18" y="8" width="1" height="3" fill="#000" />
            <rect x="12" y="11" width="6" height="1" fill="#000" />
            <rect x="18" y="9" width="1" height="2" fill="#000" />
            <rect x="19" y="9" width="1" height="3" fill="#000" />
            <rect x="20" y="10" width="1" height="3" fill="#000" />
            <rect x="21" y="11" width="1" height="2" fill="#000" />
            <g class="leg1">
              <rect x="12" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg2">
              <rect x="14" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg3">
              <rect x="16" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg4">
              <rect x="17" y="12" width="1" height="3" fill="#000" />
            </g>
          </svg>
        </div>
        <div class="running-horse">
          <svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
            <rect x="10" y="3" width="2" height="3" fill="#000" />
            <rect x="9" y="5" width="1" height="1" fill="#000" />
            <rect x="10" y="6" width="1" height="1" fill="#000" />
            <rect x="11" y="7" width="1" height="1" fill="#000" />
            <rect x="8" y="4" width="2" height="1" fill="#000" />
            <rect x="7" y="5" width="3" height="1" fill="#000" />
            <rect x="11" y="6" width="2" height="4" fill="#000" />
            <rect x="10" y="10" width="2" height="2" fill="#000" />
            <rect x="6" y="6" width="5" height="4" fill="#8B4513" />
            <rect x="8" y="7" width="1" height="1" fill="#000" />
            <rect x="6" y="5" width="2" height="1" fill="#000" />
            <rect x="3" y="8" width="3" height="2" fill="#000" />
            <rect x="4" y="9" width="2" height="2" fill="#D2691E" />
            <rect x="2" y="9" width="2" height="1" fill="#000" />
            <rect x="3" y="9" width="1" height="1" fill="#000" />
            <rect x="5" y="10" width="2" height="1" fill="#000" />
            <rect x="6" y="11" width="1" height="1" fill="#000" />
            <rect x="12" y="8" width="6" height="3" fill="#8B4513" />
            <rect x="12" y="7" width="6" height="1" fill="#000" />
            <rect x="18" y="8" width="1" height="3" fill="#000" />
            <rect x="12" y="11" width="6" height="1" fill="#000" />
            <rect x="18" y="9" width="1" height="2" fill="#000" />
            <rect x="19" y="9" width="1" height="3" fill="#000" />
            <rect x="20" y="10" width="1" height="3" fill="#000" />
            <rect x="21" y="11" width="1" height="2" fill="#000" />
            <g class="leg1">
              <rect x="12" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg2">
              <rect x="14" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg3">
              <rect x="16" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg4">
              <rect x="17" y="12" width="1" height="3" fill="#000" />
            </g>
          </svg>
        </div>
        <div class="running-horse">
          <svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
            <rect x="10" y="3" width="2" height="3" fill="#000" />
            <rect x="9" y="5" width="1" height="1" fill="#000" />
            <rect x="10" y="6" width="1" height="1" fill="#000" />
            <rect x="11" y="7" width="1" height="1" fill="#000" />
            <rect x="8" y="4" width="2" height="1" fill="#000" />
            <rect x="7" y="5" width="3" height="1" fill="#000" />
            <rect x="11" y="6" width="2" height="4" fill="#000" />
            <rect x="10" y="10" width="2" height="2" fill="#000" />
            <rect x="6" y="6" width="5" height="4" fill="#8B4513" />
            <rect x="8" y="7" width="1" height="1" fill="#000" />
            <rect x="6" y="5" width="2" height="1" fill="#000" />
            <rect x="3" y="8" width="3" height="2" fill="#000" />
            <rect x="4" y="9" width="2" height="2" fill="#D2691E" />
            <rect x="2" y="9" width="2" height="1" fill="#000" />
            <rect x="3" y="9" width="1" height="1" fill="#000" />
            <rect x="5" y="10" width="2" height="1" fill="#000" />
            <rect x="6" y="11" width="1" height="1" fill="#000" />
            <rect x="12" y="8" width="6" height="3" fill="#8B4513" />
            <rect x="12" y="7" width="6" height="1" fill="#000" />
            <rect x="18" y="8" width="1" height="3" fill="#000" />
            <rect x="12" y="11" width="6" height="1" fill="#000" />
            <rect x="18" y="9" width="1" height="2" fill="#000" />
            <rect x="19" y="9" width="1" height="3" fill="#000" />
            <rect x="20" y="10" width="1" height="3" fill="#000" />
            <rect x="21" y="11" width="1" height="2" fill="#000" />
            <g class="leg1">
              <rect x="12" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg2">
              <rect x="14" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg3">
              <rect x="16" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg4">
              <rect x="17" y="12" width="1" height="3" fill="#000" />
            </g>
          </svg>
        </div>
        <div class="running-horse">
          <svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
            <rect x="10" y="3" width="2" height="3" fill="#000" />
            <rect x="9" y="5" width="1" height="1" fill="#000" />
            <rect x="10" y="6" width="1" height="1" fill="#000" />
            <rect x="11" y="7" width="1" height="1" fill="#000" />
            <rect x="8" y="4" width="2" height="1" fill="#000" />
            <rect x="7" y="5" width="3" height="1" fill="#000" />
            <rect x="11" y="6" width="2" height="4" fill="#000" />
            <rect x="10" y="10" width="2" height="2" fill="#000" />
            <rect x="6" y="6" width="5" height="4" fill="#8B4513" />
            <rect x="8" y="7" width="1" height="1" fill="#000" />
            <rect x="6" y="5" width="2" height="1" fill="#000" />
            <rect x="3" y="8" width="3" height="2" fill="#000" />
            <rect x="4" y="9" width="2" height="2" fill="#D2691E" />
            <rect x="2" y="9" width="2" height="1" fill="#000" />
            <rect x="3" y="9" width="1" height="1" fill="#000" />
            <rect x="5" y="10" width="2" height="1" fill="#000" />
            <rect x="6" y="11" width="1" height="1" fill="#000" />
            <rect x="12" y="8" width="6" height="3" fill="#8B4513" />
            <rect x="12" y="7" width="6" height="1" fill="#000" />
            <rect x="18" y="8" width="1" height="3" fill="#000" />
            <rect x="12" y="11" width="6" height="1" fill="#000" />
            <rect x="18" y="9" width="1" height="2" fill="#000" />
            <rect x="19" y="9" width="1" height="3" fill="#000" />
            <rect x="20" y="10" width="1" height="3" fill="#000" />
            <rect x="21" y="11" width="1" height="2" fill="#000" />
            <g class="leg1">
              <rect x="12" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg2">
              <rect x="14" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg3">
              <rect x="16" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg4">
              <rect x="17" y="12" width="1" height="3" fill="#000" />
            </g>
          </svg>
        </div>
        <div class="running-horse">
          <svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
            <rect x="10" y="3" width="2" height="3" fill="#000" />
            <rect x="9" y="5" width="1" height="1" fill="#000" />
            <rect x="10" y="6" width="1" height="1" fill="#000" />
            <rect x="11" y="7" width="1" height="1" fill="#000" />
            <rect x="8" y="4" width="2" height="1" fill="#000" />
            <rect x="7" y="5" width="3" height="1" fill="#000" />
            <rect x="11" y="6" width="2" height="4" fill="#000" />
            <rect x="10" y="10" width="2" height="2" fill="#000" />
            <rect x="6" y="6" width="5" height="4" fill="#8B4513" />
            <rect x="8" y="7" width="1" height="1" fill="#000" />
            <rect x="6" y="5" width="2" height="1" fill="#000" />
            <rect x="3" y="8" width="3" height="2" fill="#000" />
            <rect x="4" y="9" width="2" height="2" fill="#D2691E" />
            <rect x="2" y="9" width="2" height="1" fill="#000" />
            <rect x="3" y="9" width="1" height="1" fill="#000" />
            <rect x="5" y="10" width="2" height="1" fill="#000" />
            <rect x="6" y="11" width="1" height="1" fill="#000" />
            <rect x="12" y="8" width="6" height="3" fill="#8B4513" />
            <rect x="12" y="7" width="6" height="1" fill="#000" />
            <rect x="18" y="8" width="1" height="3" fill="#000" />
            <rect x="12" y="11" width="6" height="1" fill="#000" />
            <rect x="18" y="9" width="1" height="2" fill="#000" />
            <rect x="19" y="9" width="1" height="3" fill="#000" />
            <rect x="20" y="10" width="1" height="3" fill="#000" />
            <rect x="21" y="11" width="1" height="2" fill="#000" />
            <g class="leg1">
              <rect x="12" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg2">
              <rect x="14" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg3">
              <rect x="16" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg4">
              <rect x="17" y="12" width="1" height="3" fill="#000" />
            </g>
          </svg>
        </div>
        <div class="running-horse">
          <svg viewBox="0 0 24 16" xmlns="http://www.w3.org/2000/svg">
            <rect x="10" y="3" width="2" height="3" fill="#000" />
            <rect x="9" y="5" width="1" height="1" fill="#000" />
            <rect x="10" y="6" width="1" height="1" fill="#000" />
            <rect x="11" y="7" width="1" height="1" fill="#000" />
            <rect x="8" y="4" width="2" height="1" fill="#000" />
            <rect x="7" y="5" width="3" height="1" fill="#000" />
            <rect x="11" y="6" width="2" height="4" fill="#000" />
            <rect x="10" y="10" width="2" height="2" fill="#000" />
            <rect x="6" y="6" width="5" height="4" fill="#8B4513" />
            <rect x="8" y="7" width="1" height="1" fill="#000" />
            <rect x="6" y="5" width="2" height="1" fill="#000" />
            <rect x="3" y="8" width="3" height="2" fill="#000" />
            <rect x="4" y="9" width="2" height="2" fill="#D2691E" />
            <rect x="2" y="9" width="2" height="1" fill="#000" />
            <rect x="3" y="9" width="1" height="1" fill="#000" />
            <rect x="5" y="10" width="2" height="1" fill="#000" />
            <rect x="6" y="11" width="1" height="1" fill="#000" />
            <rect x="12" y="8" width="6" height="3" fill="#8B4513" />
            <rect x="12" y="7" width="6" height="1" fill="#000" />
            <rect x="18" y="8" width="1" height="3" fill="#000" />
            <rect x="12" y="11" width="6" height="1" fill="#000" />
            <rect x="18" y="9" width="1" height="2" fill="#000" />
            <rect x="19" y="9" width="1" height="3" fill="#000" />
            <rect x="20" y="10" width="1" height="3" fill="#000" />
            <rect x="21" y="11" width="1" height="2" fill="#000" />
            <g class="leg1">
              <rect x="12" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg2">
              <rect x="14" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg3">
              <rect x="16" y="12" width="1" height="3" fill="#000" />
            </g>
            <g class="leg4">
              <rect x="17" y="12" width="1" height="3" fill="#000" />
            </g>
          </svg>
        </div>
      </div>
      <p style="margin: 0; font-size: 14px; color: #666">
        A collection of equestrian moments
      </p>
      <p style="margin: 5px 0 0 0; font-size: 12px; color: #999">
        Hover the horse above to see magic âœ¨
      </p>
    </footer>

    <script>
      // Configuration
      const imageFolder = "images/";

      // Static list of available images
      // This list is automatically generated during deployment by scanning the images/ folder
      // To add new images: Just upload image files to the 'images/' folder and commit
      // BUILD_INJECT_START
      const availableImages = [
        "IMG_0673.JPG",
        "IMG_1580.JPG",
        "IMG_1615.JPG",
        "IMG_1628.JPG",
        "IMG_1838 (1).JPG",
        "IMG_1840.JPG",
        "IMG_1853.JPG",
        "IMG_1966.JPG",
        "IMG_2019.JPG",
        "IMG_2130 (1).JPG",
        "IMG_2214.JPG",
        "IMG_2611.JPG",
        "IMG_3246.JPG",
        "IMG_3261.JPG",
        "IMG_3308.JPG",
        "IMG_3319.JPG",
        "IMG_3322.JPG",
        "IMG_3383.JPG",
        "IMG_3673.JPG",
        "IMG_3692.JPG",
        "IMG_4182.JPG",
        "IMG_5345.JPG",
        "IMG_5410.JPG",
        "IMG_5915.JPG",
        "IMG_5967.JPG",
        "IMG_6241.JPG",
        "IMG_6246.JPG",
        "IMG_6319.JPG",
        "IMG_6324.JPG",
        "IMG_6405.JPG",
        "IMG_6406.JPG",
        "IMG_6418.JPG",
        "IMG_7722.JPG",
        "IMG_8903.JPG",
        "IMG_8906.JPG",
        "IMG_8908.JPG",
        "IMG_8978.JPG",
        "IMG_8980.JPG",
        "IMG_9146.JPG",
      ];
      // BUILD_INJECT_END

      // Shuffle array function (Fisher-Yates algorithm)
      function shuffleArray(array) {
        const shuffled = [...array];
        for (let i = shuffled.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
        }
        return shuffled;
      }

      // Shuffle images on every load
      const shuffledImages = shuffleArray(availableImages);

      // Intersection Observer for lazy loading
      let observer;

      // Load images from the static list
      function loadImages() {
        const gallery = document.getElementById("gallery");

        // Set up Intersection Observer for better lazy loading
        observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                const img = entry.target;
                if (img.dataset.src && !img.dataset.loading) {
                  img.dataset.loading = "true";
                  img.src = img.dataset.src;
                  img.removeAttribute("data-src");
                  observer.unobserve(img);
                }
              }
            });
          },
          {
            rootMargin: "200px", // Start loading 200px before entering viewport
            threshold: 0.01,
          }
        );

        // Use DocumentFragment for better performance
        const fragment = document.createDocumentFragment();

        // Load images (using shuffled array)
        shuffledImages.forEach((imageName, index) => {
          addImageToGallery(imageName, fragment);
        });

        gallery.appendChild(fragment);

        // After adding to DOM, check which images are already in viewport
        requestAnimationFrame(() => {
          const images = gallery.querySelectorAll("img[data-src]");
          images.forEach((img) => {
            const rect = img.getBoundingClientRect();
            const isVisible =
              rect.top < window.innerHeight + 200 && rect.bottom > -200;
            if (isVisible && !img.dataset.loading) {
              img.dataset.loading = "true";
              img.src = img.dataset.src;
              img.removeAttribute("data-src");
            } else if (!img.dataset.loading) {
              observer.observe(img);
            }
          });
        });
      }

      // Add an image to the gallery
      function addImageToGallery(imageName, container) {
        const item = document.createElement("div");
        item.className = "gallery-item";

        const img = document.createElement("img");
        img.alt = imageName;
        img.loading = "lazy"; // Native lazy loading
        img.decoding = "async"; // Async image decoding
        img.dataset.src = `${imageFolder}${imageName}`;

        // Use a tiny placeholder
        img.src =
          "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";

        // Add loading class initially
        img.classList.add("loading");

        // Remove loading class when image is fully loaded
        img.onload = function () {
          // Small delay for smooth transition
          setTimeout(() => {
            this.classList.remove("loading");
            this.classList.add("loaded");
            item.classList.add("loaded");
          }, 100);
        };

        // Remove item from DOM if image fails to load
        img.onerror = function () {
          console.error(`Failed to load image: ${imageFolder}${imageName}`);
          item.remove();
        };

        // Click handler to open image in full view
        item.onclick = function (e) {
          // Only navigate if image is loaded
          if (img.classList.contains("loaded")) {
            window.location.href = `image.html?img=${encodeURIComponent(
              imageName
            )}`;
          }
        };

        item.appendChild(img);
        container.appendChild(item);
      }

      // Load images when DOM is ready
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", loadImages);
      } else {
        loadImages();
      }
    </script>
  </body>
</html>
